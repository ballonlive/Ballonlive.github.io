<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>بث مباشر - قنوات بي ان سبورت</title>

    <!-- 1. استدعاء مكتبة Tailwind CSS للتصميم -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

    <!-- CSS مدمج هنا (بدلاً من ملف خارجي) -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        
        body {
            font-family: 'Cairo', sans-serif;
        }

        .channel-card {
            display: flex;
            align-items: center;
            padding: 12px;
            background-color: #374151;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            border: 2px solid transparent;
        }

        .channel-card:hover {
            background-color: #4b5563;
            transform: scale(1.03);
        }

        .channel-card.active {
            background-color: #1e3a8a;
            border-color: #3b82f6;
            font-weight: bold;
        }

        .aspect-w-16 { position: relative; padding-bottom: 56.25%; }
        .aspect-h-9 > iframe { position: absolute; top: 0; right: 0; width: 100%; height: 100%; }

        .ad-placeholder {
            border: 2px dashed #4a5563;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">

    <div class="container mx-auto p-4">

        <header class="text-center my-6">
            <h1 class="text-4xl font-bold">بث مباشر للمباريات</h1>
            <p class="text-gray-400 mt-2">اختر القناة التي تريد مشاهدتها من القائمة أدناه</p>
        </header>

        <!-- =========== مكان الإعلان الأول (بانر علوي) =========== -->
        <div class="ad-placeholder my-4 bg-gray-700 h-24 flex items-center justify-center">
            <span class="text-gray-400">ضع كود إعلان البانر هنا</span>
        </div>
        <!-- ====================================================== -->

        <main class="grid grid-cols-1 md:grid-cols-4 gap-6">

            <!-- قسم مشغل الفيديو -->
            <div class="md:col-span-3 bg-black rounded-lg shadow-lg">
                <div class="aspect-w-16 aspect-h-9">
                    <iframe id="video-iframe"
                        src="player.html"
                        frameborder="0"
                        allow="autoplay; encrypted-media"
                        allowfullscreen
                        class="w-full h-full rounded-lg">
                    </iframe>
                </div>
                <div id="current-channel-name" class="p-4 text-xl font-semibold">
                    الرجاء اختيار قناة للبدء
                </div>
            </div>

            <!-- قسم قائمة القنوات -->
            <div class="md:col-span-1 bg-gray-800 p-4 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-4 border-b-2 border-gray-700 pb-2">قائمة القنوات</h2>
                <div id="channel-list" class="space-y-2">
                    
                    <!-- !! تم تطبيق حل مشكلة CORS هنا !! -->
                    <!-- قناة 1 (مع البروكسي) -->
                    <div class="channel-card" data-stream-url="https://proxy.cors.sh/https://dokko1new.newkso.ru/dokko1/premium91/mono.m3u8" data-channel-name="beIN SPORTS 1 HD">
                        <img src="https://i.ibb.co/LQrjN7s/bein1.png" alt="beIN 1" class="w-10 h-10 ml-3">
                        <span>beIN SPORTS 1 HD</span>
                    </div>

                    <!-- قناة 2 (مع البروكسي) -->
                    <div class="channel-card" data-stream-url="https://proxy.cors.sh/https://dokko1new.newkso.ru/dokko1/premium92/mono.m3u8" data-channel-name="beIN SPORTS 2 HD">
                        <img src="https://i.ibb.co/pZ4T9s3/bein2.png" alt="beIN 2" class="w-10 h-10 ml-3">
                        <span>beIN SPORTS 2 HD</span>
                    </div>
                    
                    <!-- قناة 3 (تحتاج لرابط صالح مع بروكسي) -->
                    <div class="channel-card" data-stream-url="ضع رابط البث هنا" data-channel-name="beIN SPORTS 3 HD">
                        <img src="https://i.ibb.co/z5pB0s6/bein3.png" alt="beIN 3" class="w-10 h-10 ml-3">
                        <span>beIN SPORTS 3 HD</span>
                    </div>

                    <!-- قناة الأخبار (تحتاج لرابط صالح مع بروكسي) -->
                    <div class="channel-card" data-stream-url="ضع رابط البث هنا" data-channel-name="beIN SPORTS الإخبارية">
                        <img src="https://i.ibb.co/3cYmZKy/bein-news.png" alt="beIN News" class="w-10 h-10 ml-3">
                        <span>beIN SPORTS الإخبارية</span>
                    </div>

                </div>
                 <!-- =========== مكان الإعلان الثاني (جانبي) =========== -->
                <div class="ad-placeholder mt-6 bg-gray-700 h-64 flex items-center justify-center">
                    <span class="text-gray-400">ضع كود إعلان جانبي هنا</span>
                </div>
                <!-- ==================================================== -->
            </div>
            
        </main>
    </div>

    <!-- 2. استدعاء مكتبة jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- JavaScript مدمج هنا -->
    <script>
        $(document).ready(function() {
            const playerIframe = $('#video-iframe'); 
            const currentChannelName = $('#current-channel-name');

            $('.channel-card').on('click', function() {
                const streamUrl = $(this).data('stream-url');
                const channelName = $(this).data('channel-name');

                if (streamUrl && streamUrl !== "ضع رابط البث هنا") {
                    const newIframeSrc = `player.html?stream=${encodeURIComponent(streamUrl)}`;
                    playerIframe.attr('src', newIframeSrc);

                    currentChannelName.text(`أنت تشاهد الآن: ${channelName}`);
                    
                    $('.channel-card').removeClass('active');
                    $(this).addClass('active');
                } else {
                    currentChannelName.text(`رابط البث لقناة ${channelName} غير متوفر حالياً.`);
                    alert(`عفواً، رابط البث لهذه القناة غير متاح.`);
                }
            });

            if ($('.channel-card').length > 0) {
                setTimeout(function() {
                    $('.channel-card').first().trigger('click');
                }, 500);
            }
        });
    </script>

</body>
</html>
